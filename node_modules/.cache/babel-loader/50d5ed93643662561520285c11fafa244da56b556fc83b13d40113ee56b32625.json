{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{addToCart,removeFromCart}from'../redux/actions';import CustomToast from'../components/CustomToast';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductList=()=>{const[products,setProducts]=useState([]);const[toast,setToast]=useState(null);const dispatch=useDispatch();const cart=useSelector(state=>state.cart);const handleAddToCart=product=>{dispatch(addToCart(product));setToast({message:`${product.name} added to cart!`,type:'success'});};const getQuantity=productId=>{var _cart$find;return((_cart$find=cart.find(item=>item.id===productId))===null||_cart$find===void 0?void 0:_cart$find.quantity)||0;};useEffect(()=>{fetch(\"https://serene-essence-backend.onrender.com/products\").then(res=>res.json()).then(data=>setProducts(data)).catch(err=>console.error(\"FETCH ERROR:\",err));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(220px, 1fr))',gap:'36px',padding:'60px 24px',backgroundColor:'#e9cfc3',maxWidth:'1440px',margin:'0 auto',fontFamily:\"'Playfair Display', serif\"},children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'rgb(241 229 223)',border:'1px solid #e9d6cb',borderRadius:'20px',padding:'24px',textAlign:'center',boxShadow:'0 6px 20px rgba(0, 0, 0, 0.05)',transition:'transform 0.3s ease',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(Link,{to:`/product/${product.id}`,style:{textDecoration:'none',color:'#3e2c29'},children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,style:{width:'100%',height:'240px',objectFit:'cover',borderRadius:'14px',marginBottom:'16px'}}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.1rem',marginBottom:'4px',color:'#7d4f40'},children:product.name}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'0.95rem',color:'#a58a79',marginBottom:'12px'},children:[\"\\u20B9\",product.price]})]}),getQuantity(product.id)===0?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(product),style:{padding:'8px 20px',background:'#b08968',color:'#fff',border:'none',borderRadius:'8px',fontSize:'0.95rem',cursor:'pointer'},children:\"Add to Cart\"}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',gap:'12px',marginTop:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch(removeFromCart(product)),style:{padding:'6px 10px',borderRadius:'6px',background:'#f0e1d3',border:'none'},children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1rem',fontWeight:'bold'},children:getQuantity(product.id)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch(addToCart(product)),style:{padding:'6px 10px',borderRadius:'6px',background:'#e6c8ba',border:'none'},children:\"+\"})]})]},product.id))}),toast&&/*#__PURE__*/_jsx(CustomToast,{message:toast.message,type:toast.type,onClose:()=>setToast(null)})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Link","useDispatch","useSelector","addToCart","removeFromCart","CustomToast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductList","products","setProducts","toast","setToast","dispatch","cart","state","handleAddToCart","product","message","name","type","getQuantity","productId","_cart$find","find","item","id","quantity","fetch","then","res","json","data","catch","err","console","error","children","style","display","gridTemplateColumns","gap","padding","backgroundColor","maxWidth","margin","fontFamily","map","border","borderRadius","textAlign","boxShadow","transition","cursor","to","textDecoration","color","src","image","alt","width","height","objectFit","marginBottom","fontSize","price","onClick","background","justifyContent","alignItems","marginTop","fontWeight","onClose"],"sources":["/workspaces/serene-essence-frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart, removeFromCart } from '../redux/actions';\nimport CustomToast from '../components/CustomToast';\n\nconst ProductList = () => {\n  const [products, setProducts] = useState([]);\n  const [toast, setToast] = useState(null);\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n\n  const handleAddToCart = (product) => {\n    dispatch(addToCart(product));\n    setToast({ message: `${product.name} added to cart!`, type: 'success' });\n  };\n\n  const getQuantity = (productId) =>\n    cart.find(item => item.id === productId)?.quantity || 0;\n\n  useEffect(() => {\n    fetch(\"https://serene-essence-backend.onrender.com/products\")\n      .then(res => res.json())\n      .then(data => setProducts(data))\n      .catch(err => console.error(\"FETCH ERROR:\", err));\n  }, []);\n\n  return (\n    <>\n      <div\n        style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\n          gap: '36px',\n          padding: '60px 24px',\n          backgroundColor: '#e9cfc3',\n          maxWidth: '1440px',\n          margin: '0 auto',\n          fontFamily: \"'Playfair Display', serif\"\n        }}\n      >\n        {products.map(product => (\n          <div\n            key={product.id}\n            style={{\n              backgroundColor: 'rgb(241 229 223)',\n              border: '1px solid #e9d6cb',\n              borderRadius: '20px',\n              padding: '24px',\n              textAlign: 'center',\n              boxShadow: '0 6px 20px rgba(0, 0, 0, 0.05)',\n              transition: 'transform 0.3s ease',\n              cursor: 'pointer'\n            }}\n          >\n            <Link\n              to={`/product/${product.id}`}\n              style={{ textDecoration: 'none', color: '#3e2c29' }}\n            >\n              <img\n                src={product.image}\n                alt={product.name}\n                style={{\n                  width: '100%',\n                  height: '240px',\n                  objectFit: 'cover',\n                  borderRadius: '14px',\n                  marginBottom: '16px'\n                }}\n              />\n              <h3 style={{ fontSize: '1.1rem', marginBottom: '4px', color: '#7d4f40' }}>\n                {product.name}\n              </h3>\n              <p style={{ fontSize: '0.95rem', color: '#a58a79', marginBottom: '12px' }}>\n                ₹{product.price}\n              </p>\n            </Link>\n\n            {getQuantity(product.id) === 0 ? (\n              <button\n                onClick={() => handleAddToCart(product)}\n                style={{\n                  padding: '8px 20px',\n                  background: '#b08968',\n                  color: '#fff',\n                  border: 'none',\n                  borderRadius: '8px',\n                  fontSize: '0.95rem',\n                  cursor: 'pointer'\n                }}\n              >\n                Add to Cart\n              </button>\n            ) : (\n              <div\n                style={{\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  gap: '12px',\n                  marginTop: '8px'\n                }}\n              >\n                <button\n                  onClick={() => dispatch(removeFromCart(product))}\n                  style={{\n                    padding: '6px 10px',\n                    borderRadius: '6px',\n                    background: '#f0e1d3',\n                    border: 'none'\n                  }}\n                >\n                  −\n                </button>\n                <span style={{ fontSize: '1rem', fontWeight: 'bold' }}>\n                  {getQuantity(product.id)}\n                </span>\n                <button\n                  onClick={() => dispatch(addToCart(product))}\n                  style={{\n                    padding: '6px 10px',\n                    borderRadius: '6px',\n                    background: '#e6c8ba',\n                    border: 'none'\n                  }}\n                >\n                  +\n                </button>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {toast && (\n        <CustomToast\n          message={toast.message}\n          type={toast.type}\n          onClose={() => setToast(null)}\n        />\n      )}\n    </>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}